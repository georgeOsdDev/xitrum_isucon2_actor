- import scala.collection.mutable.ArrayBuffer
- import isucon2._

- val recentlyBought = at("recentlyBought").asInstanceOf[Seq[ReqBuy]]

!!! 5
html
  head
    != antiCsrfMeta
    != xitrumCSS

    meta(charset="utf-8")
    title isucon 2

    link(type="text/css" rel="stylesheet" href={publicUrl("css/ui-lightness/jquery-ui-1.8.24.custom.css")})
    link(type="text/css" rel="stylesheet" href={publicUrl("css/isucon2.css")})
    script(type="text/javascript" src={publicUrl("js/jquery-1.8.2.min.js")})
    script(type="text/javascript" src={publicUrl("js/jquery-ui-1.8.24.custom.min.js")})
    script(type="text/javascript" src={publicUrl("js/isucon2.js")})

  body

    header
      a(href={url[SiteIndex]})
        img(src="/images/isucon_title.jpg")
    #sidebar
      table
        tr
          th(colspan="2") 最近購入されたチケット
          - if (recentlyBought.length > 0)
          - for (item <- recentlyBought)
            tr
              td.recent_variation= s"${item.variationId}"
              td.recent_seat_id= item.seatNo

    #content
      != renderedView
